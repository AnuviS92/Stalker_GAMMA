#include "common.h"
#include "sload.h"

float4 pda_params;

float4 main( p_flat I ) : SV_Target
{
  //f_deffer	O;

  // diffuse
  float3 D	= tbase		(I.tcdh);	// IN:  rgb.a
  D	= SRGBToLinear(D);
	
	float brightness = clamp(pda_params.x, 0, 0.01);
	float4 color = float4(D.rgb,1);
	color *= float4(brightness,brightness,brightness,brightness);
  return color;
}